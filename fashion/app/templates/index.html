<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="homepage">
    <meta name="author" content="jaemyung">

    <title>Adattarsi</title>

    <!-- Bootstrap -->
    <link href={{url_for('static', filename='assets/css/bootstrap.min.css')}} rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href={{url_for('static', filename='assets/css/jumbotron.css')}} rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src={{url_for('static', filename='assets/js/jquery.min.js')}}></script>
    
    <script src={{url_for('static', filename='assets/js/masonry.pkgd.min.js')}}></script>
    <script src={{url_for('static', filename='assets/js/imagesloaded.pkgd.min.js')}}></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src={{url_for('static', filename='assets/js/bootstrap.min.js')}}></script>
    <script src={{url_for('static', filename='assets/js/css_auto-reload.js')}}></script>

    <script type=text/javascript>
    $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
    </script>
  </head>
  <body>
    <div id="adattarsi, search, sign up or in">
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href={{url_for('main_page')}}>Adattarsi</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            {% if userid %}
            <ul class="nav navbar-nav navbar-right">
                <li><a href={{url_for('mypage')}}>Mypost <span class="badge">3</span></a></li>
                <li><a href={{url_for('logout')}}>Logout</a></li>
                <li><a href={{url_for('upload_page')}}>Post</a></li>
            </ul>
          <form class="navbar-form navbar-right">
            <input type="text" class="form-control" placeholder="Search...">
          </form>
            {% else %}
          <form class="navbar-form navbar-right" action="{{url_for('login_post')}}" method="post">
            <div class="form-group">
              <input type="text" placeholder="Id" class="form-control" name = "userid">
            </div>
            <div class="form-group">
              <input type="password" placeholder="Password" class="form-control" name = "password">
            </div>
            <button type="submit" class="btn btn-success">Sign in</button>
            <a href={{url_for('register_page')}} >
            <button type="button" class="btn btn-success" >Sign up</button>
            </a>
          </form>
          {% endif %}
        </div><!--/.navbar-collapse -->
      </div>
    </nav>
    </div><!--/ adattarsi, search, sign up or in -->

    <!-- Main jumbotron for a primary marketing message or call to action -->
    <div class="jumbotron">
      <div class="container">
        <h1>Choose your <strong><em>body type</em></strong>!</h1>
    <div class="row" style="padding-left:60px; padding-right:60px; padding-top:30px;">
          <div class="col-md-4" style="padding:0px;">
        <div class="col-md-4" style="display: inline-block;text-align: center;">    
          <img src={{url_for('static', filename='bodytype/bt1.jpg')}} style="width: 84px; height: 242px" alt="body type 1">
              <!-- <a class="btn btn-primary btn-lg" href="#" role="button">Type 1</a> -->
              <input type="checkbox" id="btCheckbox1" value="option1">
        </div>
        <div class="col-md-4" style="display: inline-block;text-align: center;">
          <img src={{url_for('static', filename='bodytype/bt2.jpg')}} style="width: 84px; height:242px" alt="body type 2">
          <!-- <a class="btn btn-primary btn-lg" href="#" role="button">Type 2</a> -->
              <input type="checkbox" id="btCheckbox2" value="option2">
        </div>
        <div class="col-md-4" style="display: inline-block;text-align: center;">
          <img src={{url_for('static', filename='bodytype/bt3.jpg')}} style="width:84px; height:242px" alt="body type 3">
          <!-- <a class="btn btn-primary btn-lg" href="#" role="button">Type 3</a> -->
              <input type="checkbox" id="btCheckbox3" value="option3">
        </div>
      </div>
      <div class="col-md-4"style="padding:0px;">
        <div class="col-md-4" style="display: inline-block;text-align: center;">
          <img src={{url_for('static', filename='bodytype/bt4.jpg')}} class="img-responsive" alt="body type 4">
          <!-- <a class="btn btn-primary btn-lg" href="#" role="button">Type 4</a> -->
              <input type="checkbox" id="btCheckbox4" value="option4">
        </div>
        <div class="col-md-4" style="display: inline-block;text-align: center;">
          <img src={{url_for('static', filename='bodytype/bt5.jpg')}} class="img-responsive" alt="body type 5">
          <!-- <a class="btn btn-primary btn-lg" href="#" role="button">Type 5</a> -->
              <input type="checkbox" id="btCheckbox5" value="option5">
        </div>
        <div class="col-md-4" style="display: inline-block;text-align: center;">
          <img src={{url_for('static', filename='bodytype/bt6.jpg')}} class="img-responsive" alt="body type 6">
          <!-- <a class="btn btn-primary btn-lg" href="#" role="button">Type 6</a> -->
              <input type="checkbox" id="btCheckbox6" value="option6">
        </div>
      </div>
      <div class="col-md-4"style="padding:0px;">
        <div class="col-md-4" style="display: inline-block;text-align: center;">
          <img src={{url_for('static', filename='bodytype/bt7.jpg')}} class="img-responsive" alt="body type 7">
          <!-- <a class="btn btn-primary btn-lg" href="#" role="button">Type 7</a> -->
              <input type="checkbox" id="btCheckbox7" value="option7">
        </div>
        <div class="col-md-4" style="display: inline-block;text-align: center;">
          <img src={{url_for('static', filename='bodytype/bt8.jpg')}} class="img-responsive" alt="body type 8">
          <!-- <a class="btn btn-primary btn-lg" href="#" role="button">Type 8</a> -->
              <input type="checkbox" id="btCheckbox8" value="option8">
        </div>
        <div class="col-md-4" style="display: inline-block;text-align: center;">
          <img src={{url_for('static', filename='bodytype/bt9.jpg')}} class="img-responsive" alt="body type 9">
          <!-- <a class="btn btn-primary btn-lg" href="#" role="button">Type 9</a> -->
              <input type="checkbox" id="btCheckbox9" value="option9">
        </div>
      </div>
    </div>
      </div>
    </div>

    <div class="container" id = "container">
        <div class="grid" id = "grid">
            <div class="grid-sizer" ></div>
        {% for image in images %}
            <div class="grid-item" >
                <a onclick="$('#modal_image').attr('src','{{url_for('static', filename=image.path)}}');" data-toggle="modal" data-target="#myModal">
                <img src ={{url_for('static', filename=image.path)}} />
                </a>
            </div>
        {% endfor %}
        </div>
    </div>
    
    <div class="modal fade" id="myModal" role="dialog">
                <div class="modal-dialog modal-lg">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-body">
                            <div class="container-fluid">
                                <div class="row">
                                    <!-- 게시글 이미지 -->
                                    <div class="col-md-7" style="padding-left:0px; max-height:700px; overflow:hidden;">
                                        <img src="./images/db_img1.png" style="height:auto; width:100%;" id = "modal_image">
                                    </div>
                                    <!-- 게시글 이미지 끝 -->

                                    <div class="col-md-5" style="padding-left:0px; max-height:700px; overflow:auto;">
                                        <!-- 게시글 내용 -->
                                        <div style="padding-bottom:10px; padding-top:10px">
                                            <img src="./images/hamburger.jpg" width="30px" height="30px">
                                            작성자아이디
                                        </div>
                                        <div class="well well-lg" style="padding-bottom:10px; max-height:250px; overflow-y:auto;">
                                            <p>ㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋ<p>
                                        </div>
                                        <!--게시글 내용 끝 -->
                                        
                                        <div>
                                            <!-- 좋아요 및 수정 버튼 -->
                                            <div class="btn-group" role="group" style="padding-bottom:10px; flaot:left;">
                                                <button class="btn btn-default" type="submit" name="edit">
                                                    <span class="badge"><span class="glyphicon glyphicon-pencil"></span></span> edit
                                                </button>
                                                <button class="btn btn-default" type="reset" name="like">
                                                    <span class="badge"><span class="glyphicon glyphicon-thumbs-up"></span></span> 1241
                                                </button>
                                            </div>
                                            <!-- 좋아요 및 수정 버튼 끝 -->

                                            <button class="btn btn-info" style="float:right;">Type C</button>
                                        </div>

                                        <!-- 댓글 -->
                                        <div style="width:100%; min-height: 200px;  max-height:400px; overflow:scroll; border-top:0.5px solid grey; border-bottom:0.5px solid grey; padding-top:5px; margin-top:5px; margin-bottom:5px;">
                                            <div>
                                                <img src="./images/hamburger.jpg" width="30px" height="30px">
                                                <p style="display:inline; font-weight:bold;">작성자 이름
                                                <p style="display:inline;">이쁨욬ㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋ</p>
                                                <time>15.08.23</time>
                                            </div>
                                            <div>
                                                <img src="./images/hamburger.jpg" width="30px" height="30px">
                                                <p style="display:inline; font-weight:bold;">작성자 이름
                                                <p style="display:inline;">이쁨욬ㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋ</p>
                                                <time>15.08.23</time>
                                            </div>
                                            <div>
                                                <img src="./images/hamburger.jpg" width="30px" height="30px">
                                                <p style="display:inline; font-weight:bold;">작성자 이름
                                                <p style="display:inline;">이쁨욬ㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋ</p>
                                                <time>15.08.23</time>
                                            </div>
                                            <div>
                                                <img src="./images/hamburger.jpg" width="30px" height="30px">
                                                <p style="display:inline; font-weight:bold;">작성자 이름
                                                <p style="display:inline;">이쁨욬ㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋ</p>
                                                <time>15.08.23</time>
                                            </div>
                                            <div>
                                                <img src="./images/hamburger.jpg" width="30px" height="30px">
                                                <p style="display:inline; font-weight:bold;">작성자 이름
                                                <p style="display:inline;">이쁨욬ㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋ</p>
                                                <time>15.08.23</time>
                                            </div>
                                            <div>
                                                <img src="./images/hamburger.jpg" width="30px" height="30px">
                                                <p style="display:inline; font-weight:bold;">작성자 이름
                                                <p style="display:inline;">이쁨욬ㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋ</p>
                                                <time>15.08.23</time>
                                            </div>  
                                            <div>
                                                <img src="./images/hamburger.jpg" width="30px" height="30px">
                                                <p style="display:inline; font-weight:bold;">작성자 이름
                                                <p style="display:inline;">이쁨욬ㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋ</p>
                                                <time>15.08.23</time>
                                            </div>
                                            <div>
                                                <img src="./images/hamburger.jpg" width="30px" height="30px">
                                                <p style="display:inline; font-weight:bold;">작성자 이름
                                                <p style="display:inline;">이쁨욬ㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋ</p>
                                                <time>15.08.23</time>
                                            </div>
                                            <div>
                                                <img src="./images/hamburger.jpg" width="30px" height="30px">
                                                <p style="display:inline; font-weight:bold;">작성자 이름
                                                <p style="display:inline;">이쁨욬ㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋ</p>
                                                <time>15.08.23</time>
                                            </div>
                                            <div>
                                                <img src="./images/hamburger.jpg" width="30px" height="30px">
                                                <p style="display:inline; font-weight:bold;">작성자 이름
                                                <p style="display:inline;">이쁨욬ㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋ</p>
                                                <time>15.08.23</time>
                                            </div>  
                                        </div>
                                        <!-- 댓글창 끝 -->

                                        <!-- 댓글 입력창 -->
                                        <div class="input-group" style="width:100%;">
                                            <input style="width:88%;"type="text" class="form-control" placeholder="Comment">
                                            <button style="width:12%;" class="btn btn-default" type="submit" name="comment">
                                                <span class="glyphicon glyphicon-comment" aria-hidden="true"></span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
<style>
.grid-sizer,
.grid-item {
    width: 25%;
}

.grid-item {
    float: left;
}

.grid-item img {
    display: block;
    width: 100%;
}
</style>
    <script type="text/javascript">
    $(document).ready( function() {

      $('.grid').masonry({
      itemSelector: '.grid-item',
      columnWidth: '.grid-sizer',
        percentPosition: true
        });
    });
    </script>
    
    <script>
        function load_image(){
             $.ajax({
                url: $SCRIPT_ROOT + '/getimages',
                success : function(data){
                $('grid').imagesLoaded(function(){
                var $grid = $('.grid').masonry({
                    itemSelector: '.grid-item',
                    columnWidth: '.grid-sizer',
                    percentPosition: true,
                    isAnimated: false
                });
                var elem = '';
                for(var key in data){
                    var value = data[key];
                    var path = 'static/' + value; 
                    
                    var boxes = '<div class="grid-item" style="width:25%;float:left;" ><a onclick="$(' + "'#modal_image'" + ").attr('src','" + path + "');" + '" data-toggle="modal" data-target="#myModal"><img src =' + path + ' style="display:block;width:100%;" width = "285"></img></a></div>';
                    elem = elem + boxes;
                }
                $elems = $(elem);

                $grid.append($elems).masonry( 'appended', $elems);
            });
            }
            });
        };
    </script>
    
    <script>
    $(window).scroll(function(){
        if ($(window).scrollTop() >= $(document).height() - $(window).height()){
            load_image();
        }
      });
    </script>
  </body>
</html>

